# Tmux 配置文件 - 優化中文輸入處理

# 設定預設終端類型
set -g default-terminal "xterm-256color"

# 啟用滑鼠支援
set -g mouse on

# 增加歷史記錄限制（預設 2000）
set -g history-limit 50000

# 設定終端編碼為 UTF-8
set -gq utf8 on
set -gq status-utf8 on

# 減少按鍵延遲，改善輸入響應
set -s escape-time 0

# 增加顯示訊息的時間
set -g display-time 4000

# 啟用剪貼簿整合
set -g set-clipboard on

# 設定 window 和 pane 索引從 1 開始（更直觀）
set -g base-index 1
setw -g pane-base-index 1

# 自動重新編號 windows
set -g renumber-windows on

# 狀態列配置
set -g status-interval 5
set -g status-position bottom
set -g status-justify left
set -g status-style 'bg=colour234 fg=colour137 dim'
set -g status-left ''
set -g status-right '#[fg=colour233,bg=colour241,bold] %Y-%m-%d #[fg=colour233,bg=colour245,bold] %H:%M:%S '
set -g status-right-length 50
set -g status-left-length 20

# 活躍視窗高亮
setw -g window-status-current-style 'fg=colour1 bg=colour19 bold'
setw -g window-status-current-format ' #I#[fg=colour249]:#[fg=colour255]#W#[fg=colour249]#F '

# 一般視窗樣式
setw -g window-status-style 'fg=colour9 bg=colour18'
setw -g window-status-format ' #I#[fg=colour237]:#[fg=colour250]#W#[fg=colour244]#F '

# 確保 tmux 正確處理 bracketed paste mode（避免 IME 輸入被誤判為貼上）
set -g assume-paste-time 1

# 啟用焦點事件（改善與 terminal emulator 的整合）
set -g focus-events on

# 視窗活動通知
setw -g monitor-activity on
set -g visual-activity off
